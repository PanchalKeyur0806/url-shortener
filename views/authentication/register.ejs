<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include("../partials/head") %>
  </head>

  <body>
    <%# Include register page %> <%- include("../partials/navbar") %>

    <div id="popup">
      <% if (status === "success") { %>
      <div
        class="w-[95vw] md:w-[60vw] mx-auto mt-5 p-4 flex justify-between items-center bg-green-100 text-green-800 rounded-lg"
      >
        <p><%= message %></p>
        <p class="cursor-pointer dismiss-btn">X</p>
      </div>
      <% } else if(status === "error"){ %>
      <div
        class="w-[95vw] md:w-[60vw] mx-auto mt-5 p-4 flex justify-between items-center bg-red-100 text-red-800 rounded-lg"
      >
        <p><%= message %></p>
        <p class="cursor-pointer dismiss-btn">X</p>
      </div>
      <% } %>
    </div>

    <main class="container w-[95vw] md:w-[70vw] mx-auto my-10">
      <section class="flex flex-col sm:flex-row">
        <div id="register-img" class="w-full md:w-1/2">
          <img
            src="/images/auth/image.png"
            alt="register image"
            class="object-cover mx-auto my-5"
          />
        </div>

        <form action="/register" method="post" class="w-full md:w-1/2">
          <h1 class="my-5 mx-4 font-medium text-3xl">Register</h1>

          <div class="grid gap-3 grid-cols-1 lg:grid-cols-2 mx-5 mb-5">
            <input
              class="border focus:outline-none border-gray-900 py-1 px-3 rounded-sm focus:bg-gray-100"
              type="text"
              name="name"
              id="name"
              placeholder="Enter your name"
              required
            />
            <input
              class="border focus:outline-none border-gray-900 py-1 px-3 rounded-sm focus:bg-gray-100"
              type="email"
              name="email"
              id="email"
              placeholder="Enter your email id"
              required
            />
          </div>

          <div class="grid grid-cols-1 mx-5 mb-5">
            <input
              class="border focus:outline-none border-gray-900 py-1 px-3 rounded-sm focus:bg-gray-100"
              type="password"
              name="password"
              id="password"
              placeholder="Enter your password"
              required
            />
          </div>

          <div class="grid grid-cols-1 mx-5 mb-5">
            <input
              class="border focus:outline-none border-gray-900 py-1 px-3 rounded-sm focus:bg-gray-100"
              type="password"
              name="confirmPassword"
              id="confirmPassword"
              placeholder="Confirm your password"
              required
            />
          </div>

          <div class="mx-4 py-2 text-center mb-5">
            <input
              type="submit"
              value="create an account"
              class="bg-blue-900 text-white px-2 cursor-pointer py-2 rounded hover:rounded-4xl transition-all duration-150 ease-in"
            />
          </div>

          <div class="mx-4 mb-5 text-[17px]">
            <p class="font-semibold mb-2">already have an account?</p>
            <p>
              click here to <a href="/login" class="text-blue-800">login</a>
            </p>
          </div>
        </form>
      </section>
    </main>
    <script>
      const popup = document.getElementById("popup");
      const dismissBtn = document.querySelector(".dismiss-btn");

      if (dismissBtn) {
        dismissBtn.addEventListener("click", () => {
          popup.remove();
        });
      }
    </script>
  </body>
</html>
